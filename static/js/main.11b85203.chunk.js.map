{"version":3,"sources":["components/card/Card.jsx","utils/variables.js","components/card-list/CardList.js","components/pages/home-page/HomePage.jsx","components/pages/house-page/HousePage.jsx","components/loading-indicator/LoadingIndicator.js","housesApi.js","App.js","index.js"],"names":["formatPrice","price","formattedPrice","toString","split","slice","splice","join","Card","address","houseId","title","labelType","splitedLabel","labelClass","className","to","src","alt","CardList","housesList","houses","map","house","id","type","HomePage","useState","inputValue","setInputValue","filteredHouses","filter","length","toLowerCase","includes","filterHousesByInput","buttonVisibility","value","placeholder","onChange","event","currentInputValue","target","handleInput","HousePage","LoadingIndicator","fetchHousesApi","url","a","fetch","json","App","housesInfo","setHousesInfo","loading","setLoading","useEffect","then","response","catch","Error","ComponentByLoadingValue","exact","path","render","match","params","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.11b85203.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { IMAGES_BASE_URL } from '../../utils/variables';\r\nimport './Card.scss';\r\n\r\nconst Card = ({ address, houseId, title, price, labelType }) => {\r\n    const splitedLabel = labelType.split(/(?=[A-Z])/).join(' ');\r\n    const labelClass = labelType === 'IndependentLiving' \r\n        ? 'card-label_independent'\r\n        : 'card-label_support';\r\n\r\n    return (\r\n        <div className='card-wrapper'>\r\n                <Link to={`/details/${houseId}`}>\r\n                    <div className='card-preview'>\r\n                        <img src={`${IMAGES_BASE_URL}=${title}`} alt={title} />\r\n                        <span className={labelClass}>{splitedLabel}</span>\r\n                    </div>\r\n                    <div className='card-description'>\r\n                        <h3>{title}</h3>\r\n                        <p className='address'>{address}</p>\r\n                        <p className='price'>New Properties for Sale from <b>Â£{formatPrice(price)}</b></p>\r\n                        <p className='ownership'>Shared Ownership Available</p>\r\n                    </div>\r\n                </Link>\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction formatPrice(price) {\r\n    let formattedPrice = price.toString().split('').slice();\r\n    formattedPrice.splice(-3, 0, ',');\r\n    \r\n    return formattedPrice.join('');\r\n};\r\n\r\nexport default Card;","const FETCH_HOUSES_URL = 'https://603e38c548171b0017b2ecf7.mockapi.io/homes';\r\nconst IMAGES_BASE_URL = 'https://via.placeholder.com/400x250/A6A6A6/FFFFFF?text='\r\nconst INPUT_FILTER_LENGTH = 4;\r\nconst FETCHED_HOUSES_AMOUNT = 6;\r\n\r\nexport { \r\n    FETCH_HOUSES_URL, \r\n    INPUT_FILTER_LENGTH, \r\n    FETCHED_HOUSES_AMOUNT, \r\n    IMAGES_BASE_URL \r\n};","import React from 'react';\r\nimport Card from '../card/Card';\r\nimport './CardList.scss';\r\n\r\nconst CardList = ({ houses }) => {\r\n    const housesList = houses.map(house => {\r\n        const { address, id, title, price, type } = house;\r\n        return (\r\n            <Card \r\n                key={id}\r\n                title={title}\r\n                price={price}\r\n                labelType={type}\r\n                address={address}\r\n                houseId={id}\r\n                />\r\n        )\r\n    });\r\n\r\n    return (\r\n        <div className='card-list__wrapper'>\r\n            {housesList}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CardList;","import React, { useState } from 'react';\r\nimport CardList from '../../card-list/CardList';\r\nimport './HomePage.scss';\r\n\r\nconst HomePage = ({ houses }) => {\r\n    const [inputValue, setInputValue] = useState('');\r\n    const handleInput = (event) => {\r\n        const currentInputValue = event.target.value;\r\n        setInputValue(currentInputValue);\r\n    };\r\n\r\n    const filteredHouses = filterHousesByInput(houses, inputValue);\r\n    const buttonVisibility = filteredHouses.length > 5 \r\n        ? <button className='expand-button'>See more  &gt;</button> \r\n        : null\r\n\r\n    return (\r\n        <div className='main-page__wrapper'>\r\n            <div className='filter-wrapper'>\r\n                <span>Filter</span>\r\n                <input \r\n                    value={inputValue} \r\n                    type='text' \r\n                    placeholder='Type here to search house...' \r\n                    onChange={event => handleInput(event)}\r\n                    />\r\n            </div>\r\n            <CardList houses={filteredHouses}/>\r\n            { buttonVisibility }\r\n        </div>\r\n    );\r\n};\r\n\r\nfunction filterHousesByInput(houses, inputValue) {\r\n    const filteredHouses = houses.filter(house => {\r\n        if (inputValue.length < 4) {\r\n            return house;\r\n        } else {\r\n            if (house.title.toLowerCase().includes(inputValue.toLowerCase())) {\r\n                return house;\r\n            }\r\n        }\r\n    });\r\n\r\n    return filteredHouses;\r\n};\r\n\r\nexport default HomePage;","import React from 'react';\r\n\r\nconst HousePage = ({ houseId }) => {\r\n    return (\r\n        <div>\r\n            This is page of house {houseId}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default HousePage;","import React from 'react';\r\n\r\nconst LoadingIndicator = () => {\r\n    return (\r\n        <div>\r\n            Data is loading...\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default LoadingIndicator;","export const fetchHousesApi = async (url) => {\r\n    return await (await fetch(url)).json();\r\n};","import React, { useState, useEffect } from 'react';\nimport { Switch, Route } from 'react-router-dom';\nimport HomePage from './components/pages/home-page/HomePage';\nimport HousePage from './components/pages/house-page/HousePage';\nimport LoadingIndicator from './components/loading-indicator/LoadingIndicator';\nimport { fetchHousesApi } from './housesApi';\nimport { FETCH_HOUSES_URL, FETCHED_HOUSES_AMOUNT } from './utils/variables';\nimport './App.scss';\n\nconst App = () => {\n  const [housesInfo, setHousesInfo] = useState([]);\n  const [loading, setLoading] = useState(false);\n\n  const fetchHouses = () => {\n    setLoading(true);\n    fetchHousesApi(FETCH_HOUSES_URL)\n      .then(response => {\n        setHousesInfo(response.slice(0, FETCHED_HOUSES_AMOUNT));\n        setLoading(false);\n      })\n      .catch(() => {\n        throw new Error(\"Couldn't fetch this url. Please try later\");\n      })\n  }\n\n  useEffect(() => {\n    fetchHouses();\n  }, []);\n\n  const ComponentByLoadingValue = loading \n    ? <LoadingIndicator /> \n    : <HomePage houses={housesInfo}/>\n\n  return (\n    <div className='app__container'>\n      <h1 className='app__header'>Our Latest Developments</h1>\n      <div>\n        <Switch>\n          <Route exact path='/'>\n            { ComponentByLoadingValue }\n          </Route>\n          <Route \n            exact \n            path='/details/:id' \n            render={({ match }) => {\n              const { id } = match.params;\n              return <HousePage houseId={id}/>\n            }}\n            />\n        </Switch>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter as Router } from 'react-router-dom';\n\nReactDOM.render(\n  <Router>\n    <App />\n  </Router>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}